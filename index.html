<!DOCTYPE html>
<html>
<head>
  <title>AI Study Helper</title>
</head>

<body>

  <h1>Welcome to AI Study Helper</h1>

  <p>Type your question:</p>

  <textarea id="question" rows="5" cols="50"></textarea>

  <br><br>

  <button onclick="askAI()">Ask</button>

  <p id="answer">Answer will appear here.</p>

  <script>
    async function askAI() {

      // Get user question
      let q = document.getElementById("question").value;

      // Show loading
      document.getElementById("answer").innerText = "Thinking...";

      // Send question to backend
      const response = await fetch("/api/chat", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          message: q
        })
      });

      // Get reply
      const data = await response.json();

      // Show answer
      document.getElementById("answer").innerText =
        data.reply || "Error: No response";
    }
  </script>

</body>
</html>
